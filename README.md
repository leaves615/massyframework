# Massy Framework 概述 
Massy Framwork提供模块化开发的开发视图，它重点关注软件开发期质量，为软件模块的组织提供有利于可扩展性、可重用性、易测试性等特性。<br>
随着软件规模的扩大，如果您的软件存在以下迫在眉睫需要解决的问题，可以考虑使用Massy Framework作为软件研发管理的辅助工具:
- 测试成本高<br>
回归测试花费代价越来越大，软件体系没有支持模块化设计，导致测试面广，延长交付工期。
- 代码臃肿，维护成本高<br>
赶工图方便，程序代码跳过必要的业务逻辑检查环节，直接使用底层代码，甚至直接写数据库表，故障排查难。
- 需要立刻进行重建，但时间成本代价太大<br>
系统运行多年，在扩展性、效率上越来越底下，想重建，但多年积累不是短时间就能重建完成，另外，源源不断的新需求也会导致新建系统难以追上旧系统的速度，停止新功能的时间成本难以消化和承受。

_ _ _
Massy Framework采用以下方式和策略，缓解您面对以上问题的困扰：
- 模块化<br>
使用装配件(Assembly)提供一个边界，在这个边界内为程序代码提供运行所需的环境。这里环境是指，依据装配件的配置定义，由框架配给装配件自身无法创造，只能依赖外部的服务资源；当装配件所需的服务资源都得到满足后，就可以从等待进入工作状态，并向框架反哺输出本地服务资源，由框架将这些服务资源提供给需要它的其他装配件，从而建立起一个相互支撑的模块链。<br>
当装配件通过配置约定了所需依赖和可输出资源后，装配件就成为一个具备自我描述的模块。模块内的程序代码并不用担心它所需的运行环境，因为所需的服务在程序代码准备运行前就已经就绪到位了。
- 隔离性<br>
每个模块，要求明确的定义API和SPI，API是提供给其他模块使用的接口，SPI是为模块提供多样化，扩展能力的接口。两者面向的对象和适用场景不同。<br>
API定义放在独立项目工程中，生成独立的jar文件，而SPI和具体的模块功能实现代码存放在其他项目工程中。Massy Framework建议使用自定义的类加载器加载SPI和模块功能实现代码，这样能增加其他模块直接访问本模块底层代码的难度，从而有利于程序员将重心放在API的设计上，而不是图方便的乱搭桥。<br>
另外，为了解决Jar Hell(泛指Jar的多版本共存所产生的问题)，Massy Framework引入了JBoss Modules。由JBoss Modules来约定Jar包之间的依赖关系，允许多版本Jar共存，从而缓解Jar Hell造成的问题。
- 测试成本<br>
模块如果没有被修改，基本上是无需进行回归测试，测试人员只需要关注新功能变动的模块即可。
- 分而治理<br>
模块的隔离性，为您提供新旧系统共存提供了解决重建的一种思路，您可以在旧系统中加入Massy Framework框架，将旧系统的所有程序逻辑视为一个庞大的模块。<br>
对于新功能，可以按新模块进行建设，让旧系统定义出新的API为新模块服务，以满足新功能能使用旧系统服务的能力；
同时，可以组织对旧系统按功能进行拆分，先拆分为大模块，再从大模块拆分为中型模块、小模块。您完全有足够的时间，慢慢的将旧系统改造成您想要的模样。<br>
这样您就能赢得新功能按时上线，而旧系统逐步被重建所需要时间成本。

_ _ _
当然，解决以上问题，并不简单的认为使用Massy Framework即可。它需要软件部门规范软件的组织模型，增加对代码审查，以符合预期的规范，只有这样，才能保证Massy Framework能起到作用，并有利于问题向好的方向转换。
